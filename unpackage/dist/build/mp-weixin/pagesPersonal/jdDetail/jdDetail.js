require('../common/vendor.js');(global["webpackJsonp"]=global["webpackJsonp"]||[]).push([["pagesPersonal/jdDetail/jdDetail"],{"315a":function(e,t,n){"use strict";n.r(t);var r=n("d43c"),a=n.n(r);for(var o in r)"default"!==o&&function(e){n.d(t,e,(function(){return r[e]}))}(o);t["default"]=a.a},"353b8":function(e,t,n){"use strict";var r=n("a45e"),a=n.n(r);a.a},3540:function(e,t,n){"use strict";(function(e){n("ba0c");r(n("66fd"));var t=r(n("ea7d"));function r(e){return e&&e.__esModule?e:{default:e}}e(t.default)}).call(this,n("543d")["createPage"])},4999:function(e,t,n){"use strict";n.d(t,"b",(function(){return a})),n.d(t,"c",(function(){return o})),n.d(t,"a",(function(){return r}));var r={uCountDown:function(){return n.e("uview-ui/components/u-count-down/u-count-down").then(n.bind(null,"a709"))},uIcon:function(){return n.e("uview-ui/components/u-icon/u-icon").then(n.bind(null,"230a"))},uRate:function(){return n.e("uview-ui/components/u-rate/u-rate").then(n.bind(null,"55ec"))},uButton:function(){return n.e("uview-ui/components/u-button/u-button").then(n.bind(null,"b288"))},uSelect:function(){return n.e("uview-ui/components/u-select/u-select").then(n.bind(null,"f098"))},uModal:function(){return n.e("uview-ui/components/u-modal/u-modal").then(n.bind(null,"d5d3"))}},a=function(){var e=this,t=e.$createElement,n=(e._self._c,e.qList?e._f("timeFilter")(e.qList.post_time):null);e.$mp.data=Object.assign({},{$root:{f0:n}})},o=[]},a45e:function(e,t,n){},d43c:function(e,t,n){"use strict";(function(e){Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=o(n("a34a")),a=n("5145");function o(e){return e&&e.__esModule?e:{default:e}}function i(e,t,n,r,a,o,i){try{var u=e[o](i),s=u.value}catch(c){return void n(c)}u.done?t(s):Promise.resolve(s).then(r,a)}function u(e){return function(){var t=this,n=arguments;return new Promise((function(r,a){var o=e.apply(t,n);function u(e){i(o,r,a,u,s,"next",e)}function s(e){i(o,r,a,u,s,"throw",e)}u(void 0)}))}}var s=function(){Promise.all([n.e("common/vendor"),n.e("components/QAUserProfile/QAUserProfile")]).then(function(){return resolve(n("48d4"))}.bind(null,n)).catch(n.oe)},c=function(){n.e("components/QAReply/QAReply").then(function(){return resolve(n("8fb4"))}.bind(null,n)).catch(n.oe)},l={mixins:[a.mixinUpRead],data:function(){return{flag:!1,dV:[0],reason:"",showSelect:!1,showModal:!1,showReply:!1,modalContent:"",aContent:"",score:0,selectList:[{value:0,label:"话题敏感"},{value:1,label:"时间不充分"},{value:2,label:"专业知识不对口"},{value:3,label:"其他原因"}],zt:0,qid:"",iid:"",authorInfo:{},authorFollow:!1,qList:"",selfAnswer:{},isTimeLimit:!1,showSetScoreBtn:!0}},onLoad:function(t){var n=this;return u(r.default.mark((function a(){return r.default.wrap((function(r){while(1)switch(r.prev=r.next){case 0:return n.zt=t.zt,n.qid=t.qid,n.iid=t.id,r.prev=3,e.showLoading({title:"加载中",mask:!0}),r.next=7,n.renderList();case 7:r.next=12;break;case 9:r.prev=9,r.t0=r["catch"](3),e.showToast({title:"加载失败。"});case 12:e.hideLoading();case 13:case"end":return r.stop()}}),a,null,[[3,9]])})))()},computed:{isHaveAnswer:function(){return!!this.selfAnswer.intro}},components:{QAUserProfile:s,QAReply:c},methods:{renderList:function(){var e=this;return u(r.default.mark((function t(){var n,a;return r.default.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,e.getData();case 2:n=t.sent,e.authorInfo=n.data.user_info,e.authorFollow=n.data.follow,a=Date.parse(new Date(n.data.list.end_time.replace(/-/g,"/")))-Date.parse(new Date),n.data.list.timestamp=a/1e3,e.isTimeLimit=!(a>0),e.qList=n.data.list,e.selfAnswer=n.data.answer.filter((function(t){return e.$store.state.infoAuthorize.poster==t.poster}))[0],0!=e.selfAnswer.score_questions&&(e.showSetScoreBtn=!1);case 11:case"end":return t.stop()}}),t)})))()},getData:function(){var e=this;return u(r.default.mark((function t(){return r.default.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,e.$https.get("/Home/Jzbxcx/questions_detail",{params:{id:e.qid}});case 2:return t.abrupt("return",t.sent);case 3:case"end":return t.stop()}}),t)})))()},handleInvitation:function(){var t=this;return u(r.default.mark((function n(){var a;return r.default.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return n.next=2,t.$https.get("/Home/Jzbxcx/questions_answer_handle",{params:{id:t.iid,zt:t.zt,msg:t.reason}});case 2:if(a=n.sent,1!=a.data.code){n.next=7;break}return n.next=6,t.renderList();case 6:e.showToast({title:"提交成功"});case 7:case"end":return n.stop()}}),n)})))()},handleSelectFlag:function(){this.showSelect=!0},handleSelectConfirm:function(e){this.dV=[e[0].value],this.reason=e[0].label,this.modalContent="是否以该原因（"+e[0].label+"）拒绝本次采访邀请？",this.showModal=!0},handleModalConfirm:function(){this.zt=3,this.handleInvitation()},handleModalCancel:function(){this.reason=""},handleGet:function(){e.showModal({title:"提示",content:"你接受了本次采访邀请，请在对方截稿日期前在线回复，谢谢您的配合！"}),this.zt=1,this.handleInvitation()},handleShowReply:function(e){this.showReply=!this.showReply},handleReply:function(t){var n=this;return u(r.default.mark((function a(){var o;return r.default.wrap((function(r){while(1)switch(r.prev=r.next){case 0:return e.showLoading({title:"加载中",mask:!0}),r.next=3,n.handleReplyHttp(t);case 3:if(o=r.sent,1!=o.data.code){r.next=9;break}return e.hideLoading(),r.next=8,n.renderList();case 8:e.showModal({title:"提示",content:"编辑成功，是否跳过检查直接提交回复给记者",success:function(e){e.confirm?(n.handlecheckReply(),console.log("用户点击确定")):e.cancel&&console.log("用户点击取消")}});case 9:case"end":return r.stop()}}),a)})))()},handleReplyHttp:function(e){var t=this;return u(r.default.mark((function n(){return r.default.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return n.next=2,t.$https.post("/Home/Jzbxcx/questions_answer_up",{id:t.qid,intro:e});case 2:return n.abrupt("return",n.sent);case 3:case"end":return n.stop()}}),n)})))()},handlecheckReply:function(){this.zt=2,this.handleInvitation()},handleSubmitScore:function(){var t=this;return u(r.default.mark((function n(){var a;return r.default.wrap((function(n){while(1)switch(n.prev=n.next){case 0:if(0==t.selfAnswer.score_questions){n.next=7;break}return e.showLoading({title:"提交评价中..."}),n.next=4,t.setQuestionScore();case 4:a=n.sent,e.hideLoading(),1==a.data.code&&(t.showSetScoreBtn=!1,e.showToast({title:"评价成功"}));case 7:case"end":return n.stop()}}),n)})))()},setQuestionScore:function(){var e=this;return u(r.default.mark((function t(){return r.default.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,e.$https.get("/Home/Jzbxcx/questions_score",{params:{id:e.selfAnswer.id,score:e.selfAnswer.score_questions}});case 2:return t.abrupt("return",t.sent);case 3:case"end":return t.stop()}}),t)})))()}}};t.default=l}).call(this,n("543d")["default"])},ea7d:function(e,t,n){"use strict";n.r(t);var r=n("4999"),a=n("315a");for(var o in a)"default"!==o&&function(e){n.d(t,e,(function(){return a[e]}))}(o);n("353b8");var i,u=n("f0c5"),s=Object(u["a"])(a["default"],r["b"],r["c"],!1,null,"7cef1e1c",null,!1,r["a"],i);t["default"]=s.exports}},[["3540","common/runtime","common/vendor"]]]);