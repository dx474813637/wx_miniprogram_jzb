{"version":3,"sources":["webpack:///F:/hbuild-item/jzb/components/hch-poster/hch-poster.vue?8b5c","webpack:///F:/hbuild-item/jzb/components/hch-poster/hch-poster.vue?6543","webpack:///F:/hbuild-item/jzb/components/hch-poster/hch-poster.vue?b799","webpack:///F:/hbuild-item/jzb/components/hch-poster/hch-poster.vue?c0de","uni-app:///components/hch-poster/hch-poster.vue","webpack:///F:/hbuild-item/jzb/components/hch-poster/hch-poster.vue?3463","webpack:///F:/hbuild-item/jzb/components/hch-poster/hch-poster.vue?c1a7"],"names":[],"mappings":"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","file":"components/hch-poster/hch-poster.js","sourcesContent":["import { render, staticRenderFns, recyclableRender, components } from \"./hch-poster.vue?vue&type=template&id=308841a4&\"\nvar renderjs\nimport script from \"./hch-poster.vue?vue&type=script&lang=js&\"\nexport * from \"./hch-poster.vue?vue&type=script&lang=js&\"\nimport style0 from \"./hch-poster.vue?vue&type=style&index=0&lang=scss&coped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null,\n  false,\n  components,\n  renderjs\n)\n\ncomponent.options.__file = \"components/hch-poster/hch-poster.vue\"\nexport default component.exports","export * from \"-!../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/templateLoader.js??vue-loader-options!../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--16-0!../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/template.js!../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-uni-app-loader/page-meta.js!../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./hch-poster.vue?vue&type=template&id=308841a4&\"","var components\nvar render = function() {\n  var _vm = this\n  var _h = _vm.$createElement\n  var _c = _vm._self._c || _h\n}\nvar recyclableRender = false\nvar staticRenderFns = []\nrender._withStripped = true\n\nexport { render, staticRenderFns, recyclableRender, components }","import mod from \"-!../../../../HBuilderX/plugins/uniapp-cli/node_modules/babel-loader/lib/index.js!../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--12-1!../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/script.js!../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./hch-poster.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../HBuilderX/plugins/uniapp-cli/node_modules/babel-loader/lib/index.js!../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--12-1!../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/script.js!../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./hch-poster.vue?vue&type=script&lang=js&\"","<!--\r\n * @Description: 生成海报组件\r\n * @Version: 1.0.0\r\n * @Autor: hch\r\n * @Date: 2020-08-07 14:48:41\r\n * @LastEditors: hch\r\n * @LastEditTime: 2020-08-10 11:02:27\r\n * 保存海报按钮和关闭按钮 在html代码中写出来 绑定点击方法然后透明 再用canvas 覆盖\r\n-->\r\n\r\n<template>\r\n  <view class=\"canvas-content\" v-show=\"canvasShow\">\r\n    <!-- 遮罩层 -->\r\n    <view class=\"canvas-mask\"></view>\r\n    <canvas class=\"canvas\" canvas-id=\"myCanvas\"></canvas><!-- 海报 -->\r\n    <!-- 关闭按钮 -->\r\n    <!-- <cover-image class=\"canvas-close-btn\" @tap=\"handleCanvasCancel\" src=\"https://huangchunhongzz.gitee.io/imgs/poster/close_btn.png\" alt=\"\" srcset=\"\"></cover-image> -->\r\n    <view class=\"button-wrapper\">\r\n      <!-- 保存海报按钮 -->\r\n      <cover-view class=\"save-btn\" @tap=\"handleSaveCanvasImage\">保存海报</cover-view>\r\n      <cover-view class=\"save-btn cancel-btn\" @tap=\"handleCanvasCancel\">取消</cover-view>\r\n    </view>\r\n  </view>\r\n</template>\r\n\r\n<script>\r\n\timport {mapState} from 'vuex'\r\nexport default {\r\n  data() {\r\n    return {\r\n      canvasShow:false,\r\n      attrs:{//主板版海报\r\n\t\tcurPageUrl: 'pages/index/index',\r\n\t\tname: '姓名',\r\n\t\tlabel: '标签',\r\n\t\tsub: '头衔',\r\n\t\tcontentTitle: '标题',\r\n\t\tcontentText: '内容',\r\n        marginLR: 40,\r\n        marginTB: 40,\r\n        radius: 0.01,\r\n        fillColor: '#ffffff',\r\n        innerLR: 20,\r\n        innerTB: 20,\r\n        posterRatio: 1,\r\n        posterImgUrl: \"\",\r\n        title: \"\",\r\n        titleFontSize: 18,\r\n        titleLineHeight: 25,\r\n        posterCodeUrl: \"\",\r\n        codeWidth: 0.2,\r\n        codeRatio: 1,\r\n        codeRadius: 0.5,\r\n        codeMT: 20,\r\n        codeName: \"网经社\",\r\n        codeNameMT: 20,\r\n        tips: \"长按/扫描识别查看商品\",\r\n        posterBgUrl:'https://www.100ec.cn/Public/home/images/wx_haibao_bg.jpg',\r\n        codeML:140,\r\n        desTextMT:70,\r\n        desTextML:240,\r\n      },\r\n    }\r\n  },\r\n  props: {\r\n    posterBgFlag:{//是否展示海报背景图 不用\r\n      type:Boolean,\r\n      default:true\r\n    },\r\n    simpleFlag:{//是否展示简单版海报 不用\r\n      type:Boolean,\r\n      default:false\r\n    },\r\n\tbillType: {//海报类型\r\n      type:String,\r\n      default: 'user'  ,//用户名片user； 解读qJd； 提问q； 资讯news；\r\n    }\r\n\t\r\n  },\r\n  mounted() {\r\n    this.system = this.getSystem()\r\n  },\r\n  computed: {\r\n\t  ...mapState(['shareOptions'])\r\n  },\r\n  methods: {\r\n    /**\r\n     * @description: 展示海报\r\n     * @param {type} \r\n     * @return {type} \r\n     * @author: hch\r\n     */\r\n    posterShow(){\r\n      this.canvasShow = true\r\n      Object.assign(this.attrs,this.shareOptions)\r\n        this.attrs={\r\n\t\t\tcurPageUrl: this.attrs.curPageUrl,\r\n\t\t\tname:this.attrs.name,\r\n\t\t\tlabel:this.attrs.label,\r\n\t\t\tsub: this.attrs.sub,\r\n\t\t\tcontentTitle: this.attrs.contentTitle,\r\n\t\t\tcontentText: this.attrs.contentText,\r\n\t\t\tmarginLR: this.attrs.marginLR*this.systemScale,\r\n\t\t\tmarginTB: this.attrs.marginTB*this.systemScale,\r\n\t\t\tinnerLR: this.attrs.innerLR*this.systemScale,\r\n\t\t\tinnerTB: this.attrs.innerTB*this.systemScale,\r\n\t\t\tradius: this.attrs.radius,\r\n\t\t\tfillColor: this.attrs.fillColor,\r\n\t\t\tposterRatio: this.attrs.posterRatio,\r\n\t\t\tposterImgUrl:this.attrs.posterImgUrl,\r\n\t\t\ttitle: this.attrs.title,\r\n\t\t\ttitleFontSize: this.attrs.titleFontSize*this.systemScale,\r\n\t\t\ttitleLineHeight: this.attrs.titleLineHeight*this.systemScale,\r\n\t\t\tposterCodeUrl: this.attrs.posterCodeUrl,\r\n\t\t\tcodeWidth: this.attrs.codeWidth*this.systemScale,\r\n\t\t\tcodeRatio: this.attrs.codeRatio,\r\n\t\t\tcodeRadius: this.attrs.codeRadius,\r\n\t\t\tcodeMT: this.attrs.codeMT*this.systemScale,\r\n\t\t\tcodeName: this.attrs.codeName,\r\n\t\t\tcodeNameMT: this.attrs.codeNameMT*this.systemScale,\r\n\t\t\ttips: this.attrs.tips,\r\n\t\t\tposterBgUrl: this.attrs.posterBgUrl,\r\n\t\t\tcodeML: this.attrs.codeML*this.systemScale,\r\n\t\t\tdesTextMT:this.attrs.desTextMT*this.systemScale,\r\n\t\t\tdesTextML:this.attrs.desTextML*this.systemScale,\r\n      }\r\n      // if(this.simpleFlag){\r\n      //   this.creatSimplePoster(this.attrs)\r\n      // }else{\r\n        this.creatPoster(this.attrs)\r\n      // }\r\n    },\r\n    /**\r\n     * @description: 生成海报\r\n     * @param {number} marginTB 上下距离\r\n     * @param {number} marginLR 左右距离\r\n     * @param {number} innerLR 上下内边距\r\n     * @param {number} innerTB 左右内边距\r\n     * @param {number} radius 圆角\r\n     * @param {number} fillColor 海报填充背景色\r\n     * @param {number} posterRatio 海报主图片宽高比例\r\n     * @param {number} posterImgUrl 海报主图片url\r\n     * @param {number} title 海报的title\r\n     * @param {number} titleFontSize 字体大小\r\n     * @param {number} titleLineHeight 标题文本的行高大小\r\n     * @param {number} posterCodeUrl 小程序码图片\r\n     * @param {number} codeWidth 小程序码的占屏幕的百分比\r\n     * @param {number} codeRatio 小程序码的宽度比例\r\n     * @param {number} codeRadius 小程序码的圆角\r\n     * @param {number} codeMT 小程序码的margin-top值\r\n     * @param {number} codeName 小程序码名字\r\n     * @param {number} codeNameMT 小程序码名字的margin-top值\r\n     * @param {number} tips 提示语\r\n     * @author: hch\r\n     */\r\n    async creatPoster(canvasAttr){\r\n      wx.showLoading({\r\n        title: \"生成海报中...\"\r\n      })\r\n\t  await this.getCodeUrl()\r\n      const ctx = wx.createCanvasContext(\"myCanvas\",this)\r\n      ctx.draw()//清空之前的海报\r\n      // 根据设备屏幕大小和距离屏幕上下左右距离，及圆角绘制背景\r\n      this.roundRect(ctx\r\n\t\t  ,canvasAttr.marginLR\r\n\t\t  ,canvasAttr.marginTB\r\n\t\t  ,this.system.w-2*canvasAttr.marginLR\r\n\t\t  ,(this.scale*this.system.w)-2*canvasAttr.marginTB-100\r\n\t\t  ,0\r\n\t\t  ,'#000'\r\n\t  );\r\n      // if(this.posterBgFlag){\r\n      await this.creatBgImg(ctx,canvasAttr)\r\n      // }\r\n      // 绘制标题 textY 绘制文本的y位置\r\n      let textY = this.creatTitle(ctx,canvasAttr)\r\n\t  let maxLine = 8\r\n\t  let textLine = 1\r\n\t  //绘制用户基本信息\r\n\t  this.createUserInfo(ctx,canvasAttr, textY)\r\n\t  textY = await this.creatImg(ctx,canvasAttr, textY)\r\n\t  let obj = this.createContentTitle(ctx,canvasAttr, textY)\r\n\t  textY = obj.textY\r\n\t  this.createContentText(ctx,canvasAttr, textY, maxLine - obj.textLine)\r\n\t  // if(this.billType == 'user') {\r\n\t\t\t// this.creatUserInfo(ctx,canvasAttr, textY)\r\n\t  // }\r\n\t  \r\n      // 绘制小程序码\r\n      this.creatCode(ctx,canvasAttr,textY)\r\n      // 小程序的名称\r\n      // this.creatCodeText(ctx,canvasAttr,canvasAttr.codeName,textY,14,\"#fff\")\r\n      // 长按/扫描识别查看商品\r\n\t  let codeTextY = canvasAttr.marginTB+canvasAttr.innerTB + 0.8*(this.system.w-2*canvasAttr.marginLR-2*canvasAttr.innerLR)*this.scale+this.system.w*canvasAttr.codeWidth*canvasAttr.codeRatio+10\r\n      this.creatCodeText(ctx,canvasAttr,canvasAttr.tips, codeTextY,10,\"#54beff\") \r\n\t  \r\n      wx.hideLoading()\r\n    },\r\n\r\n    async creatSimplePoster(canvasAttr){\r\n      wx.showLoading({\r\n        title: \"生成海报中...\"\r\n      })\r\n      const ctx = wx.createCanvasContext(\"myCanvas\",this)\r\n      ctx.draw()//清空之前的海报\r\n      // 根据设备屏幕大小和距离屏幕上下左右距离，及圆角绘制背景\r\n      this.roundRect(ctx,canvasAttr.marginLR,canvasAttr.marginTB,this.system.w-2*canvasAttr.marginLR,(this.scale*this.system.w)-2*canvasAttr.marginTB-100, (this.system.w-2*canvasAttr.marginLR)*canvasAttr.radius,canvasAttr.fillColor );\r\n      if(this.posterBgFlag){\r\n         await this.creatBgImg(ctx,canvasAttr)\r\n      }\r\n      // 绘制小程序码\r\n      this.creatSimpleCode(ctx,canvasAttr,canvasAttr.marginTB)\r\n      // 绘制纵向文本\r\n      this.creatVerticalTitle(ctx,canvasAttr)\r\n      wx.hideLoading()\r\n    },\r\n    /**\r\n      * \r\n      * @param {CanvasContext} ctx canvas上下文\r\n      * @param {number} x 圆角矩形选区的左上角 x坐标\r\n      * @param {number} y 圆角矩形选区的左上角 y坐标\r\n      * @param {number} w 圆角矩形选区的宽度\r\n      * @param {number} h 圆角矩形选区的高度\r\n      * @param {number} r 圆角的半径\r\n      * @param {String} fillColor 天聪颜色\r\n      */\r\n    roundRect(ctx, x, y, w, h, r, fillColor='#ffffff', isBorder) {\r\n      ctx.save()\r\n      ctx.beginPath()\r\n      // 绘制左上角圆弧\r\n      ctx.arc(x + r, y + r, r, Math.PI, Math.PI * 1.5)\r\n      // 绘制border-top\r\n      // 画一条线 x终点、y终点\r\n      ctx.lineTo(x + w - r, y)\r\n      // 绘制右上角圆弧\r\n      ctx.arc(x + w - r, y + r, r, Math.PI * 1.5, Math.PI * 2)\r\n      // 绘制border-right\r\n      ctx.lineTo(x + w, y + h - r)\r\n      // 绘制右下角圆弧\r\n      ctx.arc(x + w - r, y + h - r, r, 0, Math.PI * 0.5)\r\n      // 绘制左下角圆弧\r\n      ctx.arc(x + r, y + h - r, r, Math.PI * 0.5, Math.PI)\r\n      // 绘制border-left\r\n      ctx.lineTo(x, y + r)\r\n      // 填充颜色\r\n      ctx.setFillStyle(fillColor)\r\n      ctx.fill()\r\n\t  if(isBorder) {\r\n\t\t  ctx.strokeStyle = '#fff';\r\n\t\t  ctx.lineWidth = 3\r\n\t\t  ctx.stroke();\r\n\t  }\r\n      // 剪切，剪切之后的绘画绘制剪切区域内进行，需要save与restore 这个很重要 不然没办法保存\r\n      ctx.clip()\r\n    },\r\n    /**\r\n     * @description: 获取设备信息\r\n     * @param {type} \r\n     * @return {type} \r\n     * @author: hch\r\n     */\r\n    getSystem(){\r\n      let system = wx.getSystemInfoSync()\r\n      this.scale = 667 / 375 //按照苹果留 375*667比例 其他型号手机等比例缩放 显示\r\n      this.systemScale = system.windowWidth / 375 //按照苹果留 375*667比例 其他型号手机等比例缩放 显示\r\n      return {w:system.windowWidth,h:system.windowHeight}\r\n    },\r\n    /**\r\n     * @description: 生成海报背景图\r\n     * @param {type} \r\n     * @return {type} \r\n     * @author: hch\r\n     */\r\n    creatBgImg(ctx,canvasAttr){\r\n      let _this = this\r\n      return new Promise((resolve,reject)=>{\r\n        wx.getImageInfo({\r\n          src: canvasAttr.posterBgUrl,\r\n          success (res) {\r\n            const imgAttr = res//海报背景展示图片信息\r\n            let sale = res.width/(_this.system.w-2*canvasAttr.marginLR)\r\n            ctx.drawImage(res.path\r\n\t\t\t,canvasAttr.marginLR\r\n\t\t\t,canvasAttr.marginTB\r\n\t\t\t, _this.system.w-2*canvasAttr.marginLR+5\r\n\t\t\t,(_this.scale*_this.system.w)-2*canvasAttr.marginTB-100+5\r\n\t\t\t)\r\n            ctx.restore()\r\n            ctx.draw(true)\r\n            resolve()\r\n          },\r\n          fail(res) {\r\n            console.log(\"fail -> res\", res)\r\n            uni.showToast({\r\n              title: \"海报背景图下载异常\",\r\n              duration: 2000,\r\n              icon: \"none\"\r\n            })\r\n          }\r\n        })\r\n      })\r\n    },\r\n    /**\r\n     * @description: 生成头部海报图\r\n     * @param {type} \r\n     * @return {type} \r\n     * @author: hch\r\n     */\r\n    creatImg(ctx,canvasAttr, textY){\r\n      let _this = this\r\n      return new Promise((resolve,reject)=>{\r\n        wx.getImageInfo({\r\n          src: canvasAttr.posterImgUrl,\r\n          success (res) {\r\n            ctx.restore()\r\n            ctx.draw(true)\r\n            const imgAttr = res//海报展示图片信息\r\n            let sale = res.width/(_this.system.w-2*canvasAttr.marginLR-2*canvasAttr.innerLR)\r\n            let x = canvasAttr.marginLR+canvasAttr.innerLR\r\n\t\t\tlet y = textY+40\r\n\t\t\tlet w = 60\r\n\t\t\t_this.roundRect(\r\n\t\t\t\tctx, x, y, w, w/canvasAttr.posterRatio, \r\n\t\t\t\t(_this.system.w-2*canvasAttr.marginLR)*canvasAttr.radius, null, true\r\n\t\t\t);\r\n            ctx.drawImage(\r\n\t\t\t\tres.path, x, y, w, w/canvasAttr.posterRatio\r\n\t\t\t)\r\n            ctx.restore()\r\n            ctx.draw(true)\r\n            resolve(y + w/canvasAttr.posterRatio)\r\n          },\r\n          fail(res) {\r\n            console.log(\"fail -> res\", res)\r\n            uni.showToast({\r\n              title: \"海报主图下载异常\",\r\n              duration: 2000,\r\n              icon: \"none\"\r\n            })\r\n          }\r\n        })\r\n\r\n      })\r\n    },\r\n    /**\r\n     * @description: 生成横向文本标题\r\n     * @param {type} \r\n     * @return {type} \r\n     * @author: hch\r\n     */\r\n    creatTitle(ctx,canvasAttr){\r\n      ctx.restore() //恢复之前保存的绘图上下文\r\n      ctx.save() \r\n      ctx.setFontSize(canvasAttr.titleFontSize)\r\n\t  ctx.setFillStyle('#ffffff')\r\n\t  // ctx.textAlign = 'center'\r\n\t  // ctx.fillText(canvasAttr.title, this.system.w/2, canvasAttr.marginLR+canvasAttr.innerLR)\r\n      let textY = this.drawText(\r\n\t\t\t\t\t\tctx, \r\n\t\t\t\t\t\tcanvasAttr.title,\r\n\t\t\t\t\t\tcanvasAttr.marginLR+canvasAttr.innerLR, \r\n\t\t\t\t\t\t2*canvasAttr.innerLR+canvasAttr.marginTB,\r\n\t\t\t\t\t\t// (this.system.w-2*canvasAttr.marginLR-2*canvasAttr.innerLR)/canvasAttr.posterRatio+2*canvasAttr.innerLR+canvasAttr.marginTB, \r\n\t\t\t\t\t\tthis.system.w-2*canvasAttr.marginLR-2*canvasAttr.innerLR, \r\n\t\t\t\t\t\tcanvasAttr.titleLineHeight,\r\n\t\t\t\t\t\ttrue\r\n\t\t\t\t\t).y\r\n      ctx.draw(true)\r\n      return textY\r\n    },\r\n    /**\r\n     * @description: 生成纵向文本标题\r\n     * @param {type} \r\n     * @return {type} \r\n     * @author: hch\r\n     */\r\n    creatVerticalTitle(ctx,canvasAttr){\r\n      ctx.restore() //恢复之前保存的绘图上下文\r\n      ctx.save() \r\n      ctx.setFontSize(canvasAttr.titleFontSize)\r\n      canvasAttr.title.forEach((element,i) => {\r\n        this.drawText(ctx, element, canvasAttr.marginTB+canvasAttr.desTextML+i*20,canvasAttr.marginLR+canvasAttr.desTextMT, 15, canvasAttr.titleLineHeight)\r\n      });\r\n      ctx.draw(true)\r\n    },\r\n    /**\r\n     * @param {Object} ctx canvas上下文\r\n     * @param {String} text 需要输入的文本\r\n     * @param {Number} x X轴起始位置\r\n     * @param {Number} y Y轴起始位置\r\n     * @param {Number} maxWidth 单行最大宽度\r\n     * @param {Number} lineHeight 行高\r\n     */\r\n    drawText(ctx, text, x, y, maxWidth=375, lineHeight=30,isCenter=false, maxLine) {\r\n\t\t\r\n        let canvas = ctx.canvas;\r\n        let arrText = text.split('');\r\n        let line = '';\r\n\t\tlet textLine = 1\r\n\t\tlet flag = false\r\n\t\tif(!isCenter) ctx.textAlign = 'left';\r\n\t\telse ctx.textAlign = 'center';\r\n        for (let n = 0; n < arrText.length; n++) {\r\n\t\t\tvar patt1 = new RegExp(\"\\n\");\r\n\t\t\tvar result = patt1.test(arrText[n]);\r\n\t\t\tlet testLine = line\r\n\t\t\tif(!result) testLine += arrText[n];\r\n            let metrics = ctx.measureText(testLine);\r\n            let testWidth = metrics.width;\r\n\t\t\tif(testWidth > maxWidth && n > 0) {\r\n\t\t\t\tif(maxLine && textLine == maxLine) {\r\n\t\t\t\t\tflag = true\r\n\t\t\t\t\t// ctx.fillText(line + '...', x, y);\r\n\t\t\t\t\tn = arrText.length\r\n\t\t\t\t}else {\r\n\t\t\t\t\tctx.fillText(line, x, y);\r\n\t\t\t\t\tline = arrText[n];\r\n\t\t\t\t\ty += lineHeight;\r\n\t\t\t\t\ttextLine ++\r\n\t\t\t\t}\r\n            } else {\r\n                line = testLine;\r\n            }\r\n        }\r\n        ctx.fillText(line + (textLine>1 && flag? '...': ''), isCenter? this.system.w/2: x, y);\r\n        return {x, y, textLine}\r\n    },\r\n    /**\r\n     * @description: 生成居中文本\r\n     * @param {type} \r\n     * @return {type} \r\n     * @author: hch\r\n     */\r\n    creatCodeText(ctx,canvasAttr,text,textY,fontSize=14,fillStyle=\"#ffffff\"){\r\n\t\t  ctx.setFontSize(fontSize)\r\n\t\t  ctx.setFillStyle(fillStyle) //文字颜色：默认黑色\r\n\t\t  // let metrics = ctx.measureText(text);\r\n\t\t  // let testWidth = metrics.width;\r\n\t\t  ctx.textAlign = 'center';\r\n\t\t  ctx.fillText(text,this.system.w/2,textY)\r\n\t\t  // 小程序的名称end\r\n    },\r\n\tcreateContentTitle(ctx, canvasAttr, textY) {\r\n\t\tlet marTop = 10\r\n\t\tlet lineH = 20\r\n\t\tlet maxLine = 0\r\n\t\ttextY = lineH + marTop + textY\r\n\t\tctx.setFontSize(14)\r\n\t\tctx.setFillStyle('#54beff')\r\n\t\tlet maxW = this.system.w-2*canvasAttr.marginLR-2*canvasAttr.innerLR\r\n\t\tlet {textY:y, textLine} = this.drawText(ctx, canvasAttr.contentTitle, canvasAttr.marginLR+canvasAttr.innerLR, textY, maxW, 18, false)\r\n\t\tctx.draw(true)\r\n\t\ttextY = textY + (textLine - 1)*lineH\r\n\t\t// ctx.fillText(canvasAttr.contentTitle, canvasAttr.marginLR+canvasAttr.innerLR ,textY)\r\n\t\treturn {textY, textLine}\r\n\t},\r\n\tcreateContentText(ctx, canvasAttr, textY, maxLine) {\r\n\t\tlet marTop = 8\r\n\t\tlet lineH = 20\r\n\t\ttextY = lineH + marTop + textY\r\n\t\t// ctx.setFontSize(20)\r\n\t\t// ctx.setFillStyle('#ffffff')\r\n\t\t// ctx.fillText('“', canvasAttr.marginLR+canvasAttr.innerLR, textY)\r\n\t\tctx.setFontSize(14)\r\n\t\tctx.setFillStyle('#54beff')\r\n\t\tlet maxW = this.system.w-2*canvasAttr.marginLR-2*canvasAttr.innerLR\r\n\t\tthis.drawText(ctx, canvasAttr.contentText, canvasAttr.marginLR+canvasAttr.innerLR, textY, maxW, 22, false, maxLine)\r\n\t\tctx.draw(true)\r\n\t\t// ctx.fillText(canvasAttr.contentTitle, canvasAttr.marginLR+canvasAttr.innerLR ,textY)\r\n\t\t\r\n\t},\r\n\tcreateUserInfo (ctx,canvasAttr, textY) {\r\n\t\ttextY += 55\r\n\t\tlet x = canvasAttr.marginLR+canvasAttr.innerLR + 70\r\n\t\tctx.textAlign = 'left';\r\n\t\tlet textW = this.createUserText(ctx,canvasAttr, canvasAttr.name, x, textY, 16)\r\n\t\tconsole.log(canvasAttr)\r\n\t\tthis.createUserLabel(ctx,canvasAttr, this.typeToLabel(canvasAttr.label), x+textW+15, textY, 12)\r\n\t\t\r\n\t\tthis.createUserText(ctx,canvasAttr, canvasAttr.sub, x, textY + 25, 12, '#54beff')\r\n\t\t\r\n\t},\r\n\tcreateUserText(ctx,canvasAttr, text, x, y, fontSize=14,fillStyle=\"#ffffff\") {\r\n\t\tctx.setFontSize(fontSize)\r\n\t\tctx.setFillStyle(fillStyle)\r\n\t\tlet maxW = this.system.w-x-canvasAttr.marginLR-canvasAttr.innerLR\r\n\t\tthis.drawText(ctx, text, x, y, maxW, 18, false, 2)\r\n\t\tctx.draw(true)\r\n\t\tlet metrics = ctx.measureText(text);\r\n\t\tlet testWidth = metrics.width;\r\n\t\t// ctx.fillText(text, x, y)\r\n\t\treturn testWidth\r\n\t},\r\n\ttypeToLabel(type) {\r\n\t\tif(type == 0) return '记者'\r\n\t\tif(type == 1) return '专家'\r\n\t\tif(type == 2) return '公关'\r\n\t},\r\n\tcreateUserLabel(ctx,canvasAttr, text, x, y, fontSize=14,fillStyle=\"#ffffff\") {\r\n\t\tctx.setFontSize(fontSize)\r\n\t\tctx.setFillStyle(fillStyle)\r\n\t\tlet metrics = ctx.measureText(text);\r\n\t\tlet testWidth = metrics.width; \r\n\t\tthis.roundRect(\r\n\t\t\tctx, x-8, y-14, testWidth+16, 18, 3, '#5555ff'\r\n\t\t);\r\n\t\tctx.restore()\r\n\t\tctx.fillText(text, x, y)\r\n\t},\r\n    /**\r\n     * @description: 生成文本（带中间划线的）\r\n     * @param {type} \r\n     * @return {type} \r\n     * @author: hch\r\n     */\r\n    creatTextLine(){\r\n\r\n    },\r\n    /**\r\n     * @description: 小程序码\r\n     * @param {type} \r\n     * @return {type} \r\n     * @author: hch\r\n     */\r\n    creatCode(ctx,canvasAttr,textY){\r\n      const _this = this\r\n      wx.getImageInfo({\r\n        src: canvasAttr.posterCodeUrl,\r\n        success(res) {\r\n          ctx.restore()\r\n          ctx.draw(true)\r\n\t\t  let w = _this.system.w; //-canvasAttr.marginLR*2\r\n          _this.roundRect(\r\n\t\t\t\t\t\tctx,\r\n\t\t\t\t\t\t(w-w*canvasAttr.codeWidth)/2, \r\n\t\t\t\t\t\tcanvasAttr.marginTB+canvasAttr.innerTB + 0.7*(_this.system.w-2*canvasAttr.marginLR-2*canvasAttr.innerLR)*_this.scale +30 ,\r\n\t\t\t\t\t\t// textY+canvasAttr.codeMT, \r\n\t\t\t\t\t\t_this.system.w*canvasAttr.codeWidth,\r\n\t\t\t\t\t\t_this.system.w*canvasAttr.codeWidth*canvasAttr.codeRatio, \r\n\t\t\t\t\t\t(_this.system.w*canvasAttr.codeWidth*canvasAttr.codeRatio)*canvasAttr.codeRadius \r\n\t\t\t\t\t);\r\n          ctx.drawImage(\r\n\t\t\t\t\tres.path,\r\n\t\t\t\t\t(w-w*canvasAttr.codeWidth)/2, \r\n\t\t\t\t\tcanvasAttr.marginTB+canvasAttr.innerTB + 0.7*(_this.system.w-2*canvasAttr.marginLR-2*canvasAttr.innerLR)*_this.scale +30 ,\r\n\t\t\t\t\t// textY+canvasAttr.codeMT, \r\n\t\t\t\t\t_this.system.w*canvasAttr.codeWidth, \r\n\t\t\t\t\t_this.system.w*canvasAttr.codeWidth*canvasAttr.codeRatio\r\n\t\t\t\t)\r\n          ctx.restore()\r\n          ctx.draw(true)\r\n        },\r\n        fail() {\r\n          uni.showToast({ title: \"海报生成失败\", duration: 2000, icon: \"none\" })\r\n        }\r\n      })\r\n    },\r\n    /**\r\n     * @description: 小程序码\r\n     * @param {type} \r\n     * @return {type} \r\n     * @author: hch\r\n     */\r\n    creatSimpleCode(ctx,canvasAttr){\r\n      const _this = this\r\n      wx.getImageInfo({\r\n        src: canvasAttr.posterCodeUrl,\r\n        success(res) {\r\n          ctx.restore()\r\n          ctx.draw(true)\r\n          _this.roundRect(ctx,canvasAttr.marginLR+canvasAttr.codeML, canvasAttr.marginTB+canvasAttr.codeMT, _this.system.w*canvasAttr.codeWidth, _this.system.w*canvasAttr.codeWidth*canvasAttr.codeRatio, (_this.system.w*canvasAttr.codeWidth*canvasAttr.codeRatio)*canvasAttr.codeRadius );\r\n          ctx.drawImage(res.path, canvasAttr.marginLR+canvasAttr.codeML, canvasAttr.marginTB+canvasAttr.codeMT, _this.system.w*canvasAttr.codeWidth, _this.system.w*canvasAttr.codeWidth*canvasAttr.codeRatio)\r\n          ctx.restore()\r\n          ctx.draw(true)\r\n        },\r\n        fail() {\r\n          uni.showToast({ title: \"海报生成失败\", duration: 2000, icon: \"none\" })\r\n        }\r\n      })\r\n    },\r\n    /**\r\n     * @description: 保存到系统相册\r\n     * @param {type} \r\n     * @return {type} \r\n     * @author: hch\r\n     */\r\n    handleSaveCanvasImage() {\r\n      const canvasAttr=this.attrs\r\n      wx.showLoading({\r\n        title: \"保存中...\"\r\n      })\r\n      let _this = this\r\n      // 把画布转化成临时文件\r\n      uni.canvasToTempFilePath({\r\n        x: canvasAttr.marginLR+1,\r\n        y: canvasAttr.marginTB+1,\r\n        width: this.system.w-2*canvasAttr.marginLR-8, // 画布的宽\r\n        height: (this.scale*this.system.w)-2*canvasAttr.marginTB-100-2, // 画布的高\r\n        destWidth: (this.system.w-2*canvasAttr.marginLR) * 4,\r\n        destHeight: ((this.scale*this.system.w)-2*canvasAttr.marginTB-100) * 4,\r\n        canvasId: \"myCanvas\",\r\n\t\tfileType: 'jpg',\r\n        success(res) {\r\n          //保存图片至相册\r\n          uni.saveImageToPhotosAlbum({\r\n            filePath: res.tempFilePath,\r\n            success(res) {\r\n              wx.hideLoading()\r\n              uni.showToast({\r\n                title: \"图片保存成功，可以去分享啦~\",\r\n                duration: 2000,\r\n                icon: \"none\"\r\n              })\r\n              _this.handleCanvasCancel()\r\n            },\r\n            fail() {\r\n              uni.showToast({\r\n                title: \"保存失败，稍后再试\",\r\n                duration: 2000,\r\n                icon: \"none\"\r\n              })\r\n              wx.hideLoading()\r\n            }\r\n          })\r\n        },\r\n        fail(res) {\r\n          console.log(\"fail -> res\", res)\r\n          uni.showToast({\r\n            title: \"保存失败，稍后再试\",\r\n            duration: 2000,\r\n            icon: \"none\"\r\n          })\r\n          wx.hideLoading()\r\n        }\r\n      },this)\r\n    },\r\n    /**\r\n     * @description: 取消海报\r\n     * @param {type} \r\n     * @return {type} \r\n     * @author: hch\r\n     */\r\n    handleCanvasCancel() {\r\n      this.canvasShow = false\r\n    },\r\n\ttoJSON(){},\r\n\tasync getCodeUrl(){\r\n\t\tlet res = await this.$https.get('/Home/Jzbxcx/get_xcx_code', {\r\n\t\t\tparams: {\r\n\t\t\t\turl: this.attrs.curPageUrl\r\n\t\t\t}\r\n\t\t})\r\n\t\tif(res.data.code == 1) {\r\n\t\t\tthis.$set(this.attrs, 'posterCodeUrl', res.data.ewm)\r\n\t\t}\r\n\t},\r\n\r\n  }\r\n}\r\n</script>\r\n\r\n<style lang=\"scss\" coped>\r\n.content {\r\n  text-align: center;\r\n  height: 100%;\r\n}\r\n.canvas-content {\r\n    position: fixed;\r\n\tz-index: 100000;\r\n  .canvas-mask {\r\n    width: 100%;\r\n    height: 100%;\r\n    position: fixed;\r\n    top: 0;\r\n    right: 0;\r\n    bottom: 0;\r\n    left: 0;\r\n    background: rgba(0, 0, 0, 0.5);\r\n    z-index: 9;\r\n  }\r\n  .canvas {\r\n    position: fixed !important;\r\n    top: 0 !important;\r\n    left: 0 !important;\r\n    display: block !important;\r\n    width: 100% !important;\r\n    height: 100% !important;\r\n    z-index: 9;\r\n  }\r\n  .button-wrapper {\r\n    width: 100%;\r\n    height: 72rpx;\r\n    position: fixed;\r\n    bottom: 40rpx;\r\n    display: flex;\r\n    justify-content: space-around;\r\n    z-index: 16;\r\n\tpadding: 0 40rpx;\r\n  }\r\n\r\n  .save-btn {\r\n    font-size: 30rpx;\r\n    line-height: 72rpx;\r\n    color: #fff;\r\n    background: $jzb-theme-color;\r\n    width: 40%;\r\n    height: 100%;\r\n    text-align: center;\r\n    border-radius: 16rpx;\r\n    z-index: 10;\r\n  }\r\n  .cancel-btn{\r\n    background: #fff;\r\n    color: $jzb-theme-color;\r\n  }\r\n  .canvas-close-btn {\r\n    position: fixed;\r\n    width: 60rpx;\r\n    height: 60rpx;\r\n    padding: 20rpx;\r\n    top: 30rpx;\r\n    right: 0;\r\n    z-index: 12;\r\n  }\r\n}\r\n</style>\r\n","import mod from \"-!../../../../HBuilderX/plugins/uniapp-cli/node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../../HBuilderX/plugins/uniapp-cli/node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/stylePostLoader.js!../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--8-oneOf-1-2!../../../../HBuilderX/plugins/uniapp-cli/node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-3!../../../../HBuilderX/plugins/uniapp-cli/node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-4!../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--8-oneOf-1-5!../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./hch-poster.vue?vue&type=style&index=0&lang=scss&coped=true&\"; export default mod; export * from \"-!../../../../HBuilderX/plugins/uniapp-cli/node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../../HBuilderX/plugins/uniapp-cli/node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/stylePostLoader.js!../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--8-oneOf-1-2!../../../../HBuilderX/plugins/uniapp-cli/node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-3!../../../../HBuilderX/plugins/uniapp-cli/node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-4!../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--8-oneOf-1-5!../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./hch-poster.vue?vue&type=style&index=0&lang=scss&coped=true&\"","// extracted by mini-css-extract-plugin\n    if(module.hot) {\n      // 1607070215847\n      var cssReload = require(\"F:/HBuilderX/plugins/uniapp-cli/node_modules/mini-css-extract-plugin/dist/hmr/hotModuleReplacement.js\")(module.id, {\"hmr\":true,\"publicPath\":\"../../\",\"locals\":false});\n      module.hot.dispose(cssReload);\n      module.hot.accept(undefined, cssReload);\n    }\n  "],"sourceRoot":""}